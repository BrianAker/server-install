---
- name: create pound user
  user:
    name: "{{ pound_user }}"
    group: "{{ pound_group }}"
    system: yes
    state: present

- name: create directory pound.conf.d
  become: yes
  file: dest="{{ pound_include_directory }}"
        mode=750
        owner=root
        group=root
        state=directory

- name: create socket file
  become: yes
  file: dest="{{ pound_control_file }}"
        mode=640
        owner="{{ pound_user }}"
        group="{{ pound_group }}"
        state=touch

- name: create pound.cfg
  become: yes
  template: src=pound.cfg.j2
            dest=/etc/pound.cfg
            owner=root
            group=root
            mode=640
  notify: restart Pound

- name: enable Pound
  become: yes
  service:  
    name: pound
    enabled: yes
