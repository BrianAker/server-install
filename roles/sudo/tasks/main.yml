---
- name: include vars
  include_vars: "{{ item }}"
  with_first_found:
    - files:
        - "{{ ansible_distribution }}.yml"
        - "{{ ansible_os_family }}.yml"
      paths: "{{ inventory_dir }}/roles/sudo/vars/"

- include: adduser.yml
  when: username is defined

- include: MacOSX.yml
  when: "username is defined and ansible_distribution in ('MacOSX')"

- include: FreeBSD.yml
  when: "username is defined and ansible_distribution in ('FreeBSD')"
